<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Finde den Impostor</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #b3e5fc;
      text-align: center;
      padding: 20px;
    }
    h1 {
      font-size: 2.5em;
      color: #0288d1;
      margin-bottom: 20px;
    }
    .controls-top {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
    }
    .controls-top input, .controls-top button, .controls-top label {
      font-size: 1.1em;
      min-width: 120px;
    }
    #impostorCount {
      width: 60px;
      text-align: center;
    }
    .controls-bottom {
      margin-bottom: 20px;
    }
    .category-dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #fff;
      min-width: 220px;
      border: 2px solid #0288d1;
      border-radius: 10px;
      padding: 10px;
      z-index: 1;
      max-height: 300px;
      overflow-y: auto;
      text-align: left;
    }
    .category-dropdown.open .dropdown-content {
      display: block;
    }
    .dropdown-content label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 5px 0;
      font-size: 0.95em;
    }
    input, button, select {
      padding: 10px;
      border-radius: 10px;
      border: 2px solid #0288d1;
      font-size: 1em;
      font-family: inherit;
    }
    .player-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
    }
    .player-list > div {
      position: relative;
    }
    .player-list button {
      background-color: white;
      cursor: pointer;
      padding: 12px 20px;
      border-radius: 10px;
      border: 2px solid #0288d1;
      font-size: 1.1em;
      font-family: inherit;
    }
    .remove-btn {
      position: absolute;
      top: -12px;
      right: -12px;
      background: #ff0000;
      color: white;
      border: none;
      border-radius: 50%;
      width: 26px;
      height: 26px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      font-family: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .word-box {
      padding: 12px 20px;
      background-color: #ffffff;
      border: 2px solid #00796b;
      border-radius: 10px;
      font-weight: bold;
      font-size: 1.2em;
      color: #00796b;
      font-family: inherit;
      cursor: pointer;
    }
    @media (max-width: 600px) {
      .controls-top {
        flex-direction: column;
        gap: 8px;
      }
    }
  </style>
</head>
<body>
  <h1>Finde den Impostor</h1>

  <div class="controls-top">
    <input type="text" id="playerName" placeholder="Dein Name">
    <button onclick="addPlayer()">Hinzuf√ºgen</button>
    <div style="display: flex; align-items: center; gap: 5px;">
      <input type="number" id="impostorCount" min="1" value="1">
      <span style="background-color: white; padding: 6px 12px; border-radius: 10px; border: 2px solid #0288d1;">üîç Impostors</span>
    </div>
    <div class="category-dropdown">
      <button id="toggleCategoryButton" style="background-color: white; border: 2px solid #0288d1; border-radius: 10px; padding: 10px; cursor: pointer;">Kategorie(n) w√§hlen</button>
      <div class="dropdown-content" id="categoryOptions">
        <label>Alle <input type="checkbox" id="selectAll"></label>
        <label>Berufe <input type="checkbox" class="cat-check" value="Berufe"></label>
        <label>Tiere <input type="checkbox" class="cat-check" value="Tiere"></label>
        <label>L√§nder/St√§dte <input type="checkbox" class="cat-check" value="L√§nder/St√§dte"></label>
        <label>Essen & Trinken <input type="checkbox" class="cat-check" value="Essen & Trinken"></label>
        <label>Filme oder Serien <input type="checkbox" class="cat-check" value="Filme oder Serien"></label>
        <label>Sportarten <input type="checkbox" class="cat-check" value="Sportarten"></label>
        <label>Kampfsportler <input type="checkbox" class="cat-check" value="Kampfsportler"></label>
        <label>Fu√üballer <input type="checkbox" class="cat-check" value="Fu√üballer"></label>
        <label>Hobbys <input type="checkbox" class="cat-check" value="Hobbys"></label>
        <label>Videospiele <input type="checkbox" class="cat-check" value="Videospiele"></label>
        <label>Apps <input type="checkbox" class="cat-check" value="Apps"></label>
      </div>
    </div>
  </div>

  <div class="controls-bottom">
    <button onclick="startGame()">Start</button>
    <button onclick="resetGame()">Reset</button>
  </div>

  <div class="player-list" id="playerList"></div>

  <script>
    const players = [];
    const categories = {
  "Berufe": ["Arzt", "Lehrer", "Polizist", "Feuerwehrmann", "Pilot", "Koch", "B√§cker", "Friseur", "Mechaniker", "Programmierer",
  "Ingenieur", "Designer", "Elektriker", "Krankenschwester", "Pfleger", "Zahnarzt", "Anwalt", "Richter", "Bauarbeiter",
  "Verk√§ufer", "Musiker", "Schauspieler", "YouTuber", "Influencer", "Journalist", "Wissenschaftler", "Psychologe",
  "Architekt", "Hausmeister", "Tierarzt", "Fotograf", "Fitnesscoach", "Landwirt", "K√ºnstler", "Busfahrer", "Taxifahrer",
  "Postbote", "Notar", "Therapeut", "Immobilienmakler", "T√§nzer", "S√§nger", "Schriftsteller", "Dolmetscher", "Sekret√§r"],
  "Tiere": ["Hund", "Katze", "L√∂we", "Tiger", "Elefant", "Affe", "B√§r", "Zebra", "Giraffe", "Krokodil",
  "K√§nguru", "Nilpferd", "Pinguin", "Koala", "Fuchs", "Wolf", "Adler", "Eule", "Schlange",
  "Kaninchen", "Hamster", "Pferd", "Schaf", "Kuh", "Huhn", "Ente", "Fisch", "Hai", "Delfin",
  "Tintenfisch", "Papagei", "Taube", "Maus", "Igel", "Waschb√§r", "Marder", "Pfau", "Truthahn", "Alpaka"],
  "L√§nder/St√§dte": ["Deutschland", "Frankreich", "Italien", "Spanien", "Portugal", "USA", "Kanada", "Brasilien", "Argentinien",
  "Japan", "China", "S√ºdkorea", "Russland", "Australien", "Indien", "√Ñgypten", "Marokko", "S√ºdafrika", "Mexiko",
  "Berlin", "Paris", "London", "Rom", "Madrid", "New York", "Los Angeles", "Toronto", "Sydney", "Rio de Janeiro",
  "Kapstadt", "Mumbai", "Peking", "Seoul", "Istanbul", "Amsterdam", "Wien", "Z√ºrich", "Athen", "Oslo"],
  "Essen & Trinken": ["Pizza", "Burger", "Pommes", "Spaghetti", "Sushi", "Curry", "D√∂ner", "Falafel", "Lasagne", "Hotdog",
  "Croissant", "Torte", "Eis", "Schokolade", "K√§se", "Toast", "Kuchen", "Pfannkuchen", "Gulasch", "Chili con Carne",
  "Cola", "Wasser", "Eistee", "Bier", "Wein", "Cocktail", "Smoothie", "Fanta", "Kaffee", "Tee"],
  "Filme oder Serien": ["Harry Potter", "Avengers", "Titanic", "Star Wars", "Stranger Things", "Breaking Bad", "Wednesday", "Barbie",
  "The Mandalorian", "Squid Game", "House of the Dragon", "The Boys", "The Crown", "Peaky Blinders", "Loki", "The Flash",
  "Fast and Furious", "The Simpsons", "Rick and Morty", "Friends", "How I Met Your Mother", "Game of Thrones",
  "Shrek", "Kung Fu Panda", "Spiderman", "Batman", "Frozen", "Moana", "Encanto", "Oppenheimer"],
  "Sportarten": ["Fu√üball", "Basketball", "Tennis", "Boxen", "Volleyball", "Handball", "Schwimmen", "Leichtathletik", "Turnen",
  "Golf", "Eishockey", "Baseball", "Cricket", "Skifahren", "Snowboarden", "Rudern", "Klettern", "Surfen", "Reiten", "Tischtennis"],
  "Kampfsportler": ["Conor McGregor", "Khabib Nurmagomedov", "Mike Tyson", "Muhammad Ali", "Bruce Lee", "Floyd Mayweather",
  "Logan Paul", "Jake Paul", "Anderson Silva", "Ronda Rousey", "Israel Adesanya", "Tyson Fury", "Francis Ngannou",
  "Jon Jones", "Chuck Norris"],
  "Fu√üballer": [ "Lionel Messi", "Cristiano Ronaldo", "Kylian Mbapp√©", "Erling Haaland", "Robert Lewandowski", "Neymar",
  "Toni Kroos", "Luka Modriƒá", "Karim Benzema", "Kevin De Bruyne", "Mohamed Salah", "Harry Kane", "Thomas M√ºller",
  "Sadio Man√©", "Joshua Kimmich", "Manuel Neuer", "Marc-Andr√© ter Stegen", "Jude Bellingham", "Vinicius Jr.",
  "Jamal Musiala"],
  "Hobbys": [ "Lesen", "Zeichnen", "Musik h√∂ren", "Videospiele", "Schreiben", "Kochen", "Backen", "Sport treiben", "Joggen",
  "Wandern", "Reiten", "Fotografieren", "Filme schauen", "Tanzen", "Schwimmen", "Fahrradfahren", "Yoga", "G√§rtnern",
  "Stricken", "N√§hen"],
  "Videospiele": [ "Minecraft", "Fortnite", "FIFA", "GTA V", "Call of Duty", "Among Us", "Roblox", "League of Legends",
  "Valorant", "CS:GO", "The Sims", "Zelda", "Mario Kart", "Animal Crossing", "PUBG", "Overwatch", "Rocket League",
  "Clash Royale", "Brawl Stars", "Pok√©mon Go"],
  "Apps": ["Instagram", "TikTok", "WhatsApp", "YouTube", "Spotify", "Snapchat", "Google Maps", "Amazon", "Netflix",
  "Twitter", "Facebook", "Telegram", "Discord", "Zoom", "Teams", "Google Drive", "eBay", "Klarna", "Pinterest", "Reddit"]
    };

    let assignedWords = {};
    let impostors = [];
    let gameStarted = false;

    document.getElementById("toggleCategoryButton").addEventListener("click", function (e) {
      e.stopPropagation();
      const dropdown = this.parentElement;
      dropdown.classList.toggle("open");
    });

    document.addEventListener("click", function (e) {
      const dropdown = document.querySelector(".category-dropdown");
      if (!dropdown.contains(e.target)) {
        dropdown.classList.remove("open");
      }
    });

    document.getElementById("selectAll").addEventListener("change", function () {
      const checks = document.querySelectorAll(".cat-check");
      checks.forEach(cb => cb.checked = this.checked);
    });

    function getSelectedCategories() {
      const checks = document.querySelectorAll(".cat-check:checked");
      let words = [];
      checks.forEach(cb => words = words.concat(categories[cb.value] || []));
      return words;
    }

    function addPlayer() {
      const name = document.getElementById("playerName").value.trim();
      if (name && !players.includes(name)) {
        players.push(name);
        displayPlayers();
        document.getElementById("playerName").value = "";
      }
    }

    function removePlayer(name) {
      const index = players.indexOf(name);
      if (index !== -1) {
        players.splice(index, 1);
        displayPlayers();
      }
    }

    function displayPlayers() {
      const playerList = document.getElementById("playerList");
      playerList.innerHTML = "";
      players.forEach(name => {
        const container = document.createElement("div");
        const btn = document.createElement("button");
        btn.textContent = name;
        btn.onclick = () => {
          if (gameStarted) {
            toggleWord(name, btn);
          }
        };
        container.appendChild(btn);
        if (!gameStarted) {
          const remove = document.createElement("button");
          remove.textContent = "√ó";
          remove.className = "remove-btn";
          remove.onclick = (e) => {
            e.stopPropagation();
            removePlayer(name);
          };
          container.appendChild(remove);
        }
        playerList.appendChild(container);
      });
    }

    function startGame() {
      const impostorCount = parseInt(document.getElementById("impostorCount").value);
      const wordPool = getSelectedCategories();

      if (players.length < 3) {
        alert("Mindestens 3 Spieler erforderlich.");
        return;
      }
      if (wordPool.length === 0) {
        alert("Bitte mindestens eine Kategorie ausw√§hlen.");
        return;
      }
      if (impostorCount >= players.length) {
        alert("Impostor-Anzahl muss kleiner als Spieleranzahl sein.");
        return;
      }

      assignedWords = {};
      impostors = [];
      gameStarted = true;

      const selectedWord = wordPool[Math.floor(Math.random() * wordPool.length)];
      const shuffled = [...players].sort(() => Math.random() - 0.5);
      impostors = shuffled.slice(0, impostorCount);

      for (const name of players) {
        assignedWords[name] = impostors.includes(name) ? "IMPOSTOR" : selectedWord;
      }

      displayPlayers();
      alert("W√∂rter wurden verteilt! Klicke auf deinen Namen, um dein Wort zu sehen.");
    }

    function toggleWord(name, button) {
      if (button.classList.contains("word-box")) {
        displayPlayers();
      } else if (assignedWords[name]) {
        const wordBox = document.createElement("div");
        wordBox.className = "word-box";
        wordBox.textContent = assignedWords[name];
        wordBox.onclick = () => toggleWord(name, wordBox);
        button.replaceWith(wordBox);
      }
    }

    function resetGame() {
      assignedWords = {};
      impostors = [];
      gameStarted = false;
      players.sort(() => Math.random() - 0.5);
      displayPlayers();
      document.getElementById("impostorCount").value = 1;
    }
  </script>
</body>
</html>

